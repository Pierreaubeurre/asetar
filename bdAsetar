DROP DATABASE IF EXISTS BD_ASETAR;
CREATE DATABASE BD_ASETAR;
USE BD_ASETAR;

CREATE USER IF NOT EXISTS 'Admin'@'localhost' IDENTIFIED BY '1234';
GRANT ALL PRIVILEGES ON *.* TO 'Admin'@'localhost';

CREATE TABLE COMPTE
    (
    NOM_U   VARCHAR(20)    NULL,
    MDP_U   VARCHAR(20)    NULL,
    ROLE_U    VARCHAR(20)    NULL,
    PRIMARY KEY (NOM_U)
    );
    
CREATE TABLE PROFIL
	(
      NOM_U    VARCHAR(20)    NULL,
      PSEUDO  VARCHAR(20)    NULL,
      AGE    INTEGER        NOT NULL,
      BIO    VARCHAR(200)    NULL,
      LOCALISATION VARCHAR(50)    NULL, 
      DATE_NAISSANCE DATE    NULL,
      
      PRIMARY KEY (PSEUDO),
      FOREIGN KEY (NOM_U) REFERENCES COMPTE (NOM_U)
    );
CREATE TABLE BOUTIQUE
	(
      ARTICLE VARCHAR(30)    NULL,
      PRIX INTEGER    NOT NULL,
      STOCK INTEGER     NOT NULL,
      PRIMARY KEY (ARTICLE)
    );

INSERT INTO COMPTE VALUES("TATA","toto","User");
INSERT INTO COMPTE VALUES("TATA2000","tata2000","User");
INSERT INTO COMPTE VALUES("Thib","Thib1234","Admin");
INSERT INTO COMPTE VALUES("Ryan","Ryan1234","Admin");
INSERT INTO COMPTE VALUES("Theo","Theo1234","Admin");
INSERT INTO COMPTE VALUES("Gaetan","Gaetan1234","Admin");
INSERT INTO COMPTE VALUES("Lumiere","sombre","User");
INSERT INTO COMPTE VALUES("Test","test2022","User");
